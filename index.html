<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>GAA Player</title>

<link rel="manifest" href="manifest.json">

<style>
body{
background:#000;color:#fff;font-family:sans-serif;margin:0;overflow:hidden;
}
#v-box{
width:100vw;height:56.25vw;background:#111;position:relative;border-bottom:2px solid #00ffcc;
}
video{
width:100%;height:100%;object-fit:contain;
}
.controls{
padding:20px;background:#151515;border-radius:20px 20px 0 0;
}
.btn-row{
display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:15px 0;
}
button{
border:none;padding:15px;border-radius:10px;font-weight:bold;
}
.btn{background:#00ffcc;color:#000;}
.next{background:#ffcc00;width:100%;}
label{color:#00ffcc;font-weight:bold;}
input[type=range]{width:100%;}
.ovl{
position:fixed;top:100px;left:20px;background:#ffffff10;
border:1px solid #00ffcc;border-radius:12px;padding:10px;
backdrop-filter:blur(5px);
}
.ovl img{width:130px;border-radius:8px;}
.close{
position:absolute;top:-15px;right:-15px;
background:red;color:#fff;border-radius:50%;
width:28px;height:28px;font-weight:bold;border:2px solid white;
}
</style>
</head>
<body>

<div id="v-box">
<video id="player" controls playsinline></video>
</div>

<div class="controls">
<label>Brightness</label>
<input type="range" id="br" min="1" max="5" step="0.1" value="1">

<div class="btn-row">
<button class="btn" onclick="videoInput.click()">üìÅ LOAD VIDEOS</button>
<button class="btn" onclick="imgInput.click()">üñº ADD IMAGE</button>
</div>

<input type="file" id="videoInput" accept="video/*" multiple hidden>
<input type="file" id="imgInput" accept="image/*" multiple hidden>

<button class="next" id="nextBtn">NEXT VIDEO ‚è≠</button>
</div>

<script>
const p = document.getElementById("player");
const videoInput = document.getElementById("videoInput");
const imgInput = document.getElementById("imgInput");

let list=[];
let index=0;

videoInput.onchange=e=>{
list=[...e.target.files];
if(list.length){
index=0;
play(index);
}
};

function play(i){
if(p.src) URL.revokeObjectURL(p.src);
p.src=URL.createObjectURL(list[i]);
p.play();
}

nextBtn.onclick=()=>{
if(list.length){
index=(index+1)%list.length;
play(index);
}
};

p.onended=()=>{
if(list.length){
index=(index+1)%list.length;
play(index);
}
};

br.oninput=e=>{
p.style.filter=`brightness(${e.target.value})`;
};

imgInput.onchange=e=>{
[...e.target.files].forEach(file=>{
const box=document.createElement("div");
box.className="ovl";

const img=document.createElement("img");
img.src=URL.createObjectURL(file);

const close=document.createElement("button");
close.innerHTML="√ó";
close.className="close";
close.onclick=()=>box.remove();

box.append(img,close);
document.body.appendChild(box);

let x=0,y=0;
box.onpointerdown=e=>{
x=e.clientX-box.offsetLeft;
y=e.clientY-box.offsetTop;
document.onpointermove=m=>{
box.style.left=(m.clientX-x)+"px";
box.style.top=(m.clientY-y)+"px";
};
document.onpointerup=()=>document.onpointermove=null;
};
});
};

if("serviceWorker" in navigator){
navigator.serviceWorker.register("sw.js");
}
</script>
</body>
</html>
