<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>GAA Player</title>
<link rel="manifest" href="manifest.json">

<style>
body{
margin:0;
background:#0a0a0a;
color:white;
font-family:system-ui;
}

/* video box */
#playerBox{
width:100%;
height:56vw;
background:#000;
box-shadow:0 0 30px #00ffcc44 inset;
}

video{
width:100%;
height:100%;
object-fit:contain;
}

/* controls */
.controls{
padding:15px;
background:#111;
box-shadow:0 -3px 15px #000;
}

button{
width:100%;
padding:16px;
border:none;
border-radius:12px;
background:linear-gradient(45deg,#00ffcc,#00aaff);
color:black;
font-weight:bold;
font-size:15px;
}

/* thumbnails */
#thumbs{
display:flex;
gap:12px;
overflow-x:auto;
padding:15px;
background:#050505;
}

.thumb{
min-width:140px;
height:80px;
border-radius:12px;
overflow:hidden;
cursor:pointer;
border:2px solid transparent;
transition:.2s;
}

.thumb video{
width:100%;
height:100%;
object-fit:cover;
}

.thumb:hover{
transform:scale(1.05);
}

.active{
border:2px solid #00ffcc;
box-shadow:0 0 10px #00ffcc;
}

/* scrollbar */
#thumbs::-webkit-scrollbar{
height:6px;
}
#thumbs::-webkit-scrollbar-thumb{
background:#00ffcc;
border-radius:10px;
}
</style>
</head>
<body>

<div id="playerBox">
<video id="player" controls></video>
</div>

<div class="controls">
<button onclick="picker.click()">SELECT VIDEOS</button>
<input type="file" id="picker" accept="video/*" multiple hidden>
</div>

<div id="thumbs"></div>

<script>
const player=document.getElementById("player");
const picker=document.getElementById("picker");
const thumbs=document.getElementById("thumbs");

let files=[];
let current=0;

/* select videos */
picker.onchange=e=>{
files=[...e.target.files];
thumbs.innerHTML="";

files.forEach((file,i)=>{
const url=URL.createObjectURL(file);

const div=document.createElement("div");
div.className="thumb";

const v=document.createElement("video");
v.src=url;
v.muted=true;
v.currentTime=1;

div.appendChild(v);

div.onclick=()=>{
current=i;
playVideo();
highlight();
};

thumbs.appendChild(div);
});

if(files.length){
current=0;
playVideo();
highlight();
}
};

/* play */
function playVideo(){
if(player.src) URL.revokeObjectURL(player.src);
player.src=URL.createObjectURL(files[current]);
player.play();
}

/* highlight active */
function highlight(){
document.querySelectorAll(".thumb").forEach(t=>t.classList.remove("active"));
if(thumbs.children[current])
thumbs.children[current].classList.add("active");
}

/* auto next */
player.onended=()=>{
if(files.length){
current=(current+1)%files.length;
playVideo();
highlight();
}
};

/* service worker */
if("serviceWorker" in navigator){
navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
